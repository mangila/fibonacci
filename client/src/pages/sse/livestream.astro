---
import Layout from "../../layouts/Layout.astro";
import DatasourceMenu from "../_components/DatasourceMenu.astro";
import { URL_BASE, SSE_BASE_PATH } from "../_shared/shared";
import { SseLivestream } from "./_components/SseLivestream";

const channel = "mangila-sse-livestream-channel";
const path = SSE_BASE_PATH + `/${channel}`;
const sseUrl = new URL(path, URL_BASE);
---

<Layout>
  <div class="prose mx-auto text-center mt-4">
    <DatasourceMenu title="SSE Livestream" />
  </div>
  <SseLivestream client:load channel={channel} url={sseUrl} />
</Layout>
